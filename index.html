<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNKRS</title>
    <link rel="shortcut icon" type="image/x-icon" href="imagenes/favicon.ico">
    <script
      src="https://www.gstatic.com/firebasejs/7.23.0/firebase-app.js"></script>
    <script
      src="https://www.gstatic.com/firebasejs/7.23.0/firebase-auth.js"></script>
    <script
      src="https://www.gstatic.com/firebasejs/7.23.0/firebase-firestore.js"></script>
    <script
      src="https://www.gstatic.com/firebasejs/7.23.0/firebase-storage.js"></script>
    <script src="js/init.js"></script>
    <script type="module" src="cmp/mi-nav.js"></script>
    <script type="module" src="cmp/mi-footer.js"></script>
    <script type="module" src="cmp/mi-progreso.js"></script>
    <link rel="stylesheet" href="css/estilos.css">
  </head>
  <body> ng-app="modulo" ng-controller="controlador">
    <header>
      <h1>INICIO</h1>
    </header>
     <h2>Jordan 4 x Off-White™ </h2>
       <p>
        Virgil Abloh está de regreso con otra creación deconstruida y, esta vez, le pone su toque único al estilo icónico del Air Jordan 4. Después de dar un adelanto en París y Chicago, su última colaboración finalmente ha llegado, con gráficos de texto llamativo patentado en la etiqueta y toques sutiles de color.
    </p>
    <img src="imagenes/J4OFFWHITE.jpg"/>
    <p>
      <label>
        Nombre
        <output id=nombre>
          <mi-progreso></mi-progreso>
        </output>
      </label>
    </p>
    <mi-footer></mi-footer>
    <script type="module">
      import { Fábrica } from "./js/Fabrica.js";
      import { muestraError } from "./lib/util.js";

      const ctrlSesión = Fábrica.instancia.ctrlSesión;
      terminarSesión.addEventListener("click",
        () => ctrlSesión.terminaSesión());

      protege();
      async function protege() {
        try {
          const usuarioAutorizado = await ctrlSesión.protege("");
          miNav.protege(usuarioAutorizado.privilegios);
          email.value = usuarioAutorizado.email;
          nombre.value = usuarioAutorizado.nombre;
          avatar.src = usuarioAutorizado.urlFoto;
        } catch (error) {
          muestraError(error)
        }
      }
    </script>
  </body>
</html>

